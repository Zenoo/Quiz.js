class Quiz{constructor(t){t=t||[];const s=[];this._onAnswerCallbacks=[],this._onEndCallbacks=[],this._listenToCustomEvents(t,s)}_listenToCustomEvents(t,s){document.addEventListener("quiz.js-addQuestions",({detail:s})=>{this._addQuestionsHandler(t,s)}),document.addEventListener("quiz.js-removeQuestions",({detail:s})=>{this._removeQuestionsHandler(t,s)}),document.addEventListener("quiz.js-start",({detail:e})=>{s=this._selectQuestions(t,e),this._displayQuestion(s[0])})}_addQuestionsHandler(t,s){t.push(...s.filter(s=>!t.find(t=>t.id==s.id)))}_removeQuestionsHandler(t,s){t=t.filter(t=>!s.includes(t.id))}_selectQuestions(t,s){const e=[];let i=s;for(;i>0;){const n=Math.floor(Math.random()*s);e.includes(t[n])||(e.push(t[n]),i--)}return e}_displayQuestion(t){this.wrapper.querySelector(".js-quiz-question").textContent=t.aaa}addQuestions(...t){return document.dispatchEvent(new CustomEvent("quiz.js-addQuestions",{detail:t})),this}removeQuestions(...t){return document.dispatchEvent(new CustomEvent("quiz.js-removeQuestions",{detail:t})),this}setTimeLimit(t){return this.timeLimit=t,this}attachTo(t){return this.wrapper=t instanceof Element?t:document.querySelector(t),this.wrapper.classList.add("quiz-js-wrapper"),this.wrapper.innerHTML=`\n\t\t\t<div class="quiz-js-question" data-id=""></div>\n\t\t\t<div class="quiz-js-answers"></div>\n\t\t\t${this.timeLimit?'<div class="quiz-js-time-limit"></div>':""}\n\t\t`,this}start(t){return this.wrapper&&t>0?document.dispatchEvent(new CustomEvent("quiz.js-start",{detail:t})):t?console.warn("Quiz.js: You didn't specify an Element to run the Quiz in. Use %c.attachTo()%c.","font-weight: bold; font-family: monospace",""):console.warn("Quiz.js: The amount of questions must be superior to 0"),this}onAnswer(t){return this._onAnswerCallbacks.push(t),this}onEnd(t){return this._onEndCallbacks.push(t),this}offAnswer(){return this._onAnswerCallbacks=[],this}offEnd(){return this._onEndCallbacks=[],this}}